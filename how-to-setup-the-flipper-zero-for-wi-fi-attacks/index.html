<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>How to setup the Flipper Zero for Wi-Fi attacks - Raptor Blog</title><meta name=Description content="Post about how to setup the Flipper Zero in order to perform different Wi-Fi attacks"><meta property="og:title" content="How to setup the Flipper Zero for Wi-Fi attacks"><meta property="og:description" content="Post about how to setup the Flipper Zero in order to perform different Wi-Fi attacks"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.anthares101.com/how-to-setup-the-flipper-zero-for-wi-fi-attacks/"><meta property="og:image" content="https://blog.anthares101.com/how-to-setup-the-flipper-zero-to-attack-wi-fi/images/banner.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-16T00:00:00+00:00"><meta property="article:modified_time" content="2023-09-16T00:00:00+00:00"><meta property="og:site_name" content="Raptor Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.anthares101.com/how-to-setup-the-flipper-zero-to-attack-wi-fi/images/banner.jpg"><meta name=twitter:title content="How to setup the Flipper Zero for Wi-Fi attacks"><meta name=twitter:description content="Post about how to setup the Flipper Zero in order to perform different Wi-Fi attacks"><meta name=application-name content="Raptor Blog"><meta name=apple-mobile-web-app-title content="Raptor Blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.anthares101.com/how-to-setup-the-flipper-zero-for-wi-fi-attacks/><link rel=prev href=https://blog.anthares101.com/magi-project-a-year-later/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"How to setup the Flipper Zero for Wi-Fi attacks","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.anthares101.com\/how-to-setup-the-flipper-zero-for-wi-fi-attacks\/"},"image":["https:\/\/blog.anthares101.com\/banner.png"],"genre":"posts","keywords":"wifi, red team, network","wordcount":857,"url":"https:\/\/blog.anthares101.com\/how-to-setup-the-flipper-zero-for-wi-fi-attacks\/","datePublished":"2023-09-16T00:00:00+00:00","dateModified":"2023-09-16T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Anthares101"},"description":"Post about how to setup the Flipper Zero in order to perform different Wi-Fi attacks"}</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "0eec0c6a58a84bcea4130feee244a950"}'></script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"dark"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Raptor Blog"><span class=header-title-pre><i class='fa-solid fa-flag'></i></span>Raptor Blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=https://github.com/anthares101/raptor-blog title="Check the code!" rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Raptor Blog"><span class=header-title-pre><i class='fa-solid fa-flag'></i></span>Raptor Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=https://github.com/anthares101/raptor-blog title="Check the code!" rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">How to setup the Flipper Zero for Wi-Fi attacks</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/posts/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Anthares101</a></span>&nbsp;<span class=post-category>included in <a href=/categories/offensive-cybersecurity/><i class="far fa-folder fa-fw" aria-hidden=true></i>Offensive Cybersecurity</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-09-16>2023-09-16</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;857 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/how-to-setup-the-flipper-zero-for-wi-fi-attacks/images/banner.jpg data-srcset="/how-to-setup-the-flipper-zero-for-wi-fi-attacks/images/banner.jpg, /how-to-setup-the-flipper-zero-for-wi-fi-attacks/images/banner.jpg 1.5x, /how-to-setup-the-flipper-zero-for-wi-fi-attacks/images/banner.jpg 2x" data-sizes=auto alt=/how-to-setup-the-flipper-zero-for-wi-fi-attacks/images/banner.jpg title="Post about how to setup the Flipper Zero in order to perform different Wi-Fi attacks" width=1280 height=960></div><div class="details toc" id=toc-static data-kept=true><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#requisites>Requisites</a></li><li><a href=#go-time>Go time!</a><ul><li><a href=#preparing-necessary-files>Preparing necessary files</a></li><li><a href=#copying-files-to-the-flipper>Copying files to the Flipper</a></li><li><a href=#flashing>Flashing</a></li></ul></li><li><a href=#last-thoughts>Last thoughts</a></li></ul></nav></div></div><div class=content id=content><h1 id=how-to-setup-the-flipper-zero-for-wi-fi-attacks>How to setup the Flipper Zero for Wi-Fi attacks</h1><p>Before starting, remember that performing any of the attacks explained in this post to networks without previous consent is illegal, this post information is for educational purposes only.</p><h2 id=introduction>Introduction</h2><p>You may be thinking: &ldquo;I just buy the Wi-Fi Flipper board and call it a day&rdquo; well, not really. Even buying the Flipper Wi-Fi Devboard instead of making a custom module won&rsquo;t enable the Flipper to start de-authenticating people out of the box, you will need to flash the proper firmware.</p><p>This post will focus on the Flipper Wi-Fi Devboard but, in theory, the process described should work with anything based on the ESP32-S2 module that can be connected to the Flipper.</p><h2 id=requisites>Requisites</h2><ul><li>Obviously a Flipper Zero.</li><li>A Flipper Wi-Fi Devboard.</li><li>Any device that can be use to transfer necessary files to the Flipper.</li></ul><h2 id=go-time>Go time!</h2><h3 id=preparing-necessary-files>Preparing necessary files</h3><p>The Wi-Fi Devboard comes with a firmware call Black Magic flashed, this is enough for updating the Flipper through Internet or in-circuit debugging but not really to play with Wi-Fi networks.</p><p>After looking around a bit, looks like flashing <a href=https://github.com/justcallmekoko/ESP32Marauder target=_blank rel="noopener noreffer">Marauder firmware</a> should provide all the functionality needed. The only problem here is that this firmware is obviously designed for <a href=https://www.tindie.com/products/justcallmekoko/esp32-marauder/ target=_blank rel="noopener noreffer">this tool</a> and looks like certain features are not really working with the Flipper Wi-Fi Devboard. After some testing, the last firmware version that properly enable the Flipper to sniff Wi-Fi frames and safe PCAP files without problems is the <a href=https://github.com/justcallmekoko/ESP32Marauder/releases/tag/v0.11.0-RC3 target=_blank rel="noopener noreffer">v0.11.0-RC3</a> (At the time of writing this post). Newer versions result in corrupted PCAP files for some reason. Also, looks like the evil portal functionality is only available by modifying the Wi-Fi Devboard to add a SD card slot to it. In theory, these limitations will be fixed in the future but for now, it is possible to use <a href=https://github.com/bigbrodude6119/flipper-zero-evil-portal/releases target=_blank rel="noopener noreffer">an alternative firmware</a> to circumvent the problem.</p><p>Luckily it is possible to flash two different firmwares to the Flipper Wi-Fi Devboard and change between them, so here it is what is needed:</p><ul><li><a href=https://github.com/justcallmekoko/ESP32Marauder/releases/tag/v0.11.0-RC3 target=_blank rel="noopener noreffer">Marauder firmware v0.11.0-RC3</a>, the file ending in <code>_sd_serial.bin</code> is the right one.</li><li>Go to <a href=https://github.com/justcallmekoko/ESP32Marauder/wiki/update-firmware#using-spacehuhn-web-updater target=_blank rel="noopener noreffer">the Marauder wiki</a> and get the proper bootloader and partitions files.</li><li>The Flipper Marauder app is called <code>[ESP32] WiFi Marauder</code> and can be installed from the Flipper application hub.</li><li><a href=https://github.com/bigbrodude6119/flipper-zero-evil-portal/releases target=_blank rel="noopener noreffer">Last version of the evil portal firmware</a>, get the files called <code>evil_portal_sd_folder.zip</code> and <code>wifi_dev_board.zip</code> and unzip them.</li><li>The Flipper app for the Evil Portal can be downloaded from <a href="https://flipc.org/Nycz-lab/flipper-zero-evil-portal?branch=main&root=flipper/flipper-evil-portal&channel=release" target=_blank rel="noopener noreffer">here</a>. Make sure to download the app for the proper Flipper firmware version.</li></ul><h3 id=copying-files-to-the-flipper>Copying files to the Flipper</h3><p>The idea now is to take the downloaded stuff and organize it properly so the Flipper is able to use them.</p><p>Let&rsquo;s start with the firmwares, first create a directory called <code>esp_flasher</code> and inside it prepare the next structure:</p><ul><li><code>EvilPortal</code><ul><li><code>EvilPortal.ino.bootloader.bin</code></li><li><code>EvilPortal.ino.partitions.bin</code></li><li><code>EvilPortal.ino.bin</code></li></ul></li><li><code>Marauder</code><ul><li><code>esp32_marauder.ino.bootloader.bin</code></li><li><code>esp32_marauder.ino.partitions.bin</code></li><li><code>esp32_marauder_*_flipper_sd_serial.bin</code></li></ul></li><li><code>boot_app0.bin</code></li></ul><p>Next, get the contents of the <code>evil_portal_sd_folder.zip</code> and the <code>esp_flasher</code> directory created before and copy both directories to <code>apps_data</code> inside the Flipper SD card.</p><img src=images/esp_flasher_dir.png alt="Image of the esp_flasher directory">
<img src=images/evilportal_dir.png alt="Image of the EvilPortal directory">
<img src=images/marauder_dir.png alt="Image of the Marauder directory">
<img src=images/evilportaldata_dir.png alt="Image of the Evil Portal data directory"><h3 id=flashing>Flashing</h3><p>The flashing process will be done through the Flipper using the app called <code>ESP Flasher</code>, can be installed through the application hub. Since all the files are already prepared the process is pretty easy, just make sure to put the Flipper Wi-Fi Devboard in flashing mode: Once the board is connected to the Flipper, hold the boot button (Right button) and press the reset button.</p><p>Go into the flashing application in the Flipper and select <code>Switch to Firmware A</code>, if the board is in flashing mode no errors should appear on screen. Once that is finished, put the board again in flashing mode and this time choose the <code>Flash ESP</code> option. Setup these fields:</p><ul><li><strong>Bootloader:</strong> <code>Marauder/esp32_marauder.ino.bootloader.bin</code></li><li><strong>Part Table:</strong> <code>Marauder/esp32_marauder.ino.partitions.bin</code></li><li><strong>boot_app0:</strong> <code>boot_app0.bin</code></li><li><strong>FirmwareA:</strong> <code>Marauder/esp32_marauder_*_flipper_sd_serial.bin</code></li><li><strong>FirmwareB:</strong> <code>EvilPortal/EvilPortal.ino.bin</code></li><li>Hit <code>FLASH</code> and wait.</li></ul><p>After some time, the process should complete successfully and only one last step is needed. Right now only the partitions for the Marauder firmware are flashed into the board so the EvilPortal partitions need to be flashed aswell. Go to the flashing application, select <code>Switch to Firmware B</code> and then go again into the <code>Flash ESP</code> option (Remember to put the board into flashing mode everytime!):</p><ul><li><strong>Part Table:</strong> <code>EvilPortal/EvilPortal.ino.partitions.bin</code></li><li>Hit <code>FLASH</code> and wait.</li></ul><p>You may have noticed that the <code>EvilPortal/EvilPortal.ino.bootloader.bin</code> was not flashed, well only one bootloader can be flashed into the board at once. Luckily both firmware bootloaders are similar so, at least at the time of writing, this flashing process should be enough.</p><h2 id=last-thoughts>Last thoughts</h2><p>Once the flashing process is complete everything should be good to go. Switching between the Marauder firmware (Firmware A) and the Evil Portal firmware (Firmware B) can be achieved through the <code>ESP Flasher</code> app so it is possible to use both the <code>[ESP32] WiFi Marauder</code> and <code>[ESP32] Evil Portal</code> apps without any problems using the proper firmware.</p><img src=images/evilportat_pre.png alt="Image of the Evil Portal app">
<img src=images/evilportat_run.png alt="Image of the Evil Portal app running">
<img src=images/marauder_pre.png alt="Image of the Marauder app">
<img src=images/marauder_run.png alt="Image of an AP scan using Marauder app"><p>The part of configuring an evil portal or using the Marauder app is not covered here. Just go to their repective documentation pages and take a look, the hard part is covered here I promise!</p><p><strong>NOTE: If someone wants to know a bit more about how the ESP32 chip works, <a href=https://stackoverflow.com/questions/67149410/what-are-the-files-boot-app0-bin-and-bootloader-dio-80m-bin-for-esp32-arduin target=_blank rel="noopener noreffer">this StackOverflow question</a> is awesome.</strong></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2023-09-16</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/how-to-setup-the-flipper-zero-for-wi-fi-attacks/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://blog.anthares101.com/how-to-setup-the-flipper-zero-for-wi-fi-attacks/ data-title="How to setup the Flipper Zero for Wi-Fi attacks" data-via=@Anthares101 data-hashtags="wifi,red team,network"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://blog.anthares101.com/how-to-setup-the-flipper-zero-for-wi-fi-attacks/ data-hashtag=wifi><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://blog.anthares101.com/how-to-setup-the-flipper-zero-for-wi-fi-attacks/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/wifi/>wifi</a>,&nbsp;<a href=/tags/red-team/>red team</a>,&nbsp;<a href=/tags/network/>network</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/magi-project-a-year-later/ class=prev rel=prev title="MAGI Project a year later"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>MAGI Project a year later</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/posts/ target=_blank>Anthares101</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>